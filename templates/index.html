<!DOCTYPE html>
<html>

<head>
  <title>Spellcheck</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
  <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      var suggestions = JSON.parse('{{ suggestions|safe }}');

      $(".misspelled").hover(function () {
        var word = $(this).data("word");
        var suggestion = suggestions[word];
        var elem = document.querySelector("#suggestionCard").cloneNode(true);
        elem.classList.remove("hidden");
        elem.querySelector("#error").textContent = "Spelling mistake for " + word;
        elem.querySelector("#suggestions").textContent = "You may mean: " + suggestion;
        document.querySelector("#suggContainer").append(elem);
      });
    });
  </script>
</head>

<body>
  <header>
    <h1>spellcheck</h1>
  </header>
  <div class="widthContainer">
    <form id="textarea" action="{{ url_for('getText')}}" method="post">
      <input id="text-input" placeholder="enter text here..." name="myText"></input>
      <button type="submit">check</button>
    </form>

    <div id="sidebar">
      <h2 contenteditable="true">{{ corrected_text | safe }}</h2>
      <div id="suggContainer">
        <div id="suggestionCard" class="hidden">
          <h3 id="error"></h3>
          <p id="suggestions"></p>
        </div>
      </div>
      <button type="submit">submit edit</button>
    </div>
  </div>

</body>

</html>